PROJECT: Vehicle Care Booking System (Tallinn)
==============================================

MVP: React + TypeScript frontend, Spring Boot backend, PostgreSQL

FILES:
------
- overview.txt      → Goal, scope, tech stack, requirements (FR/NFR)
- client.txt        → Landing page, booking flow (6 steps)
- admin.txt         → Admin dashboard (6 sections), auth, UI structure, workflows
- architecture.txt  → Time slots, delivery logic, booking lifecycle
- notifications.txt → Notification types, templates, booking reference format
- questions.txt     → Open questions, future ideas

KEY DECISIONS:
--------------
- Auth: Session-based (MVP) → JWT (future)
- Multi-lang: Simple VARCHAR for MVP, JSON columns deferred to future
- Time slots: Admin pre-creates templates, assigns to dates
- Prices: Additive formula (base_price + package + add_ons + delivery)
- Booking ID: Simple SERIAL for MVP, UUID internal, first 8 chars for display (#550E8400) deferred to future
- Cancellation: Instant (MVP), confirmation link (later)
- Admin alerts: Dashboard only (MVP), email alerts (future)
- Delivery: Required (NOT NULL) - "bring myself" is a delivery_type option
- Package: Exactly 1 per booking (direct FK, DB-enforced)
- User model: Single `user` table with role ENUM (ADMIN/CLIENT)

ENTITIES (ERD V4 - 14 total):
-----------------------------
Core:
  - user (role ENUM: ADMIN, CLIENT)
  - business_settings

Catalog:
  - vehicle_type (has base_price)
  - package (main services)
  - add_on (optional extras)
  - delivery_type (delivery options)

Scheduling:
  - time_slot_template
  - time_slot

Transaction:
  - booking (direct FKs to package, delivery_type)

Notifications:
  - notification (templates)
  - notification_log (audit trail)

Junction Tables:
  - vehicle_service (vehicle_type ↔ package)
  - package_add_on (package ↔ add_on)
  - booking_add_on (booking ↔ add_on)

PRICING FORMULA:
----------------
total_price = vehicle_type.base_price
            + package.price
            + SUM(add_on.price)
            + delivery_type.price

BOOKING STATUSES:
-----------------
PENDING → CONFIRMED → COMPLETED
PENDING → CANCELLED_BY_CUSTOMER
Any → CANCELLED_BY_ADMIN

ERD REFERENCE:
--------------
See: /erd/v4/erd.md for complete Mermaid diagram //TODO: Update, when change ERD folders structure!

Last updated: 2024-12-21
